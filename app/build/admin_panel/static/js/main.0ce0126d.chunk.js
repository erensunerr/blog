(window.webpackJsonpadmin_panel=window.webpackJsonpadmin_panel||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports=a(19)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(9),l=a.n(r),i=a(7),o=a(2),c=a(3),u=a(5),h=a(4),m=a(1),d=a(6),p=(a(15),function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{id:"login"},s.a.createElement("form",null,s.a.createElement("input",{type:"text",id:"username",name:"username",value:this.props.username,onChange:this.props.onChangeHandler,placeholder:"Username"}),s.a.createElement("br",null),s.a.createElement("input",{type:"text",id:"password",name:"password",value:this.props.password,onChange:this.props.onChangeHandler,placeholder:"Password"}),s.a.createElement("br",null),s.a.createElement("label",null,"Save:",s.a.createElement("input",{type:"checkbox",name:"save",checked:this.props.save,onChange:this.props.onChangeHandler})),s.a.createElement("br",null),s.a.createElement("button",{onClick:this.props.signInHandler},"Sign In")),this.props.message?s.a.createElement("h3",null,this.props.message):null)}}]),t}(s.a.Component)),g="http://127.0.0.1:5000",b=(a(16),a(17),function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(u.a)(this,Object(h.a)(t).call(this))).state={title:"",elements:[]},e.add_element=e.add_element.bind(Object(m.a)(e)),e.onChangeHandler=e.onChangeHandler.bind(Object(m.a)(e)),e.commitHandler=e.commitHandler.bind(Object(m.a)(e)),e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"add_element",value:function(e){var t=e.target.name;"paragraph"===t?this.setState(function(e){var t=e.elements;return t.push("DEMO "+t.length),{elements:t}}):"image"===t&&this.setState(function(e){var t=e.elements;return t.push({src:"",alt:""}),{elements:t}})}},{key:"onChangeHandler",value:function(e){var t=e.target,a=t.name,n=t.value;"title"===a?this.setState({title:n}):a.includes("src")||a.includes("alt")?this.setState(function(e){var t=e.elements,s=parseInt(a.replace("alt-","").replace("src-","")),r=t[s];return a.includes("src")?r.src=n:a.includes("alt")&&(r.alt=n),t[s]=r,{elements:t}}):a.includes("paragraph")?this.setState(function(e){var t=e.elements;return t[parseInt(a.replace("paragraph-",""))]=n,{elements:t}}):this.setState(Object(i.a)({},a,n))}},{key:"commitHandler",value:function(e){var t=this;e.preventDefault(),fetch(g+"/api/get_post_list").then(function(e){return console.log(e)}).then(function(e){if(e.includes(t.state.title))return alert("Error, a post called "+t.state.title+" already exists."),1;var a=g+"/api/"+t.props.username+"/"+t.props.password+"/add_entry/"+t.state.title;fetch(a,{method:"POST",body:JSON.stringify(t.state.elements),headers:{"Content-Type":"application/json"}}),alert("Changes have been commited")})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{id:"add-post-form",className:"form"},s.a.createElement("h2",null,"Add Post"),s.a.createElement("input",{type:"text",id:"title",key:"title",name:"title",value:this.state.title,onChange:this.onChangeHandler,placeholder:"Title"}),s.a.createElement("button",{name:"paragraph",onClick:this.add_element},"Add Paragraph"),s.a.createElement("button",{name:"image",onClick:this.add_element},"Add ",s.a.createElement("br",null),"Image"),s.a.createElement("button",{className:"commit",name:"commit",onClick:this.commitHandler},"Commit Changes"),this.state.elements.map(function(t){var a=e.state.elements.indexOf(t);return console.log(t.src),void 0!==t.src|void 0!==t.alt?s.a.createElement("div",{id:"choose-image",key:"image-"+a},s.a.createElement("form",null,s.a.createElement("input",{type:"text",id:"src",key:"src-"+a,name:"src-"+a,value:e.state.elements[a].src,onChange:e.onChangeHandler,placeholder:"Source"}),s.a.createElement("br",null),s.a.createElement("input",{type:"text",id:"alt",key:"alt-"+a,name:"alt-"+a,value:e.state.elements[a].alt,onChange:e.onChangeHandler,placeholder:"Alternative"})),s.a.createElement("br",null)):s.a.createElement("div",{id:"paragraph",key:"paragraph-"+a},s.a.createElement("textarea",{rows:"5",cols:"50",name:"paragraph-"+a,onChange:e.onChangeHandler,value:e.state.elements[a]}),s.a.createElement("br",null))}))}}]),t}(s.a.Component)),v=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(u.a)(this,Object(h.a)(t).call(this))).onClickHandler=e.onClickHandler.bind(Object(m.a)(e)),e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"onClickHandler",value:function(e){e.preventDefault(),fetch(g+"/api/"+this.props.username+"/"+this.props.password+"/update_blog"),alert("Changes have been published.")}},{key:"render",value:function(){return s.a.createElement("button",{className:"commit",onClick:this.onClickHandler},"Publish")}}]),t}(s.a.Component),f=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(u.a)(this,Object(h.a)(t).call(this))).state={titles:[],toDelete:""},e.onChangeHandler=e.onChangeHandler.bind(Object(m.a)(e)),e.delete=e.delete.bind(Object(m.a)(e)),e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch(g+"/api/get_post_list").then(function(e){return e.json()}).then(function(t){console.log(t),e.setState({titles:t})})}},{key:"onChangeHandler",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(i.a)({},a,n))}},{key:"delete",value:function(e){fetch(g+"/api/"+this.props.username+"/"+this.props.password+"/del_post/"+this.state.toDelete).then(function(e){return console.log(e)}),alert(this.state.toDelete+" has been deleted.")}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{id:"delete-post-form",className:"form"},s.a.createElement("h2",null,"Delete Post"),s.a.createElement("select",{name:"toDelete",onChange:this.onChangeHandler},s.a.createElement("option",{value:""}),this.state.titles?this.state.titles.map(function(t){return s.a.createElement("option",{value:t,key:t+e.state.titles.indexOf(t)},t)}):null),s.a.createElement("button",{className:"commit",onClick:this.delete},"Delete"))}}]),t}(s.a.Component),C=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(u.a)(this,Object(h.a)(t).call(this))).state={user:"",pass:""},e.onChangeHandler=e.onChangeHandler.bind(Object(m.a)(e)),e.onClickHandler=e.onClickHandler.bind(Object(m.a)(e)),e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"onChangeHandler",value:function(e){var t=e.target,a=t.value,n=t.name;this.setState(Object(i.a)({},n,a))}},{key:"onClickHandler",value:function(e){fetch(g+"/api/"+this.props.username+"/"+this.props.password+"/set_user_pass/"+this.state.user+"/"+this.state.pass),alert("Admin username and password have been changed.")}},{key:"render",value:function(){return s.a.createElement("div",{id:"change-user-pass-form",className:"form"},s.a.createElement("h2",null,"Change Admin Username & Password"),s.a.createElement("input",{onChange:this.onChangeHandler,name:"user",placeholder:"New Username",value:this.state.user}),s.a.createElement("input",{onChange:this.onChangeHandler,name:"pass",placeholder:"New Password",value:this.state.pass}),s.a.createElement("button",{onClick:this.onClickHandler,className:"commit"},"Change"))}}]),t}(s.a.Component),O=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(u.a)(this,Object(h.a)(t).call(this))).state={title:"",author:""},e.onChangeHandler=e.onChangeHandler.bind(Object(m.a)(e)),e.onClickHandler=e.onClickHandler.bind(Object(m.a)(e)),e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"onChangeHandler",value:function(e){var t=e.target,a=t.value,n=t.name;this.setState(Object(i.a)({},n,a))}},{key:"onClickHandler",value:function(e){fetch(g+"/api/"+this.props.username+"/"+this.props.password+"/set_essentials/"+this.state.title+"/"+this.state.author),alert("Title and author have been changed.")}},{key:"render",value:function(){return s.a.createElement("div",{id:"change-essentials-form",className:"form"},s.a.createElement("h2",null,"Change Title & Author"),s.a.createElement("input",{onChange:this.onChangeHandler,name:"title",placeholder:"Title",value:this.state.title}),s.a.createElement("input",{onChange:this.onChangeHandler,name:"author",placeholder:"Author",value:this.state.author}),s.a.createElement("button",{onClick:this.onClickHandler,className:"commit"},"Change"))}}]),t}(s.a.Component),j=(a(18),function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{id:"control-panel"},s.a.createElement("h1",null,"Admin Control Panel"),s.a.createElement(O,{username:this.props.username,password:this.props.password}),s.a.createElement(C,{username:this.props.username,password:this.props.password}),s.a.createElement(b,{username:this.props.username,password:this.props.password}),s.a.createElement(f,{username:this.props.username,password:this.props.password}),s.a.createElement(v,{username:this.props.username,password:this.props.password}))}}]),t}(s.a.Component));function E(e){for(var t=e+"=",a=decodeURIComponent(document.cookie).split(";"),n=0;n<a.length;n++){for(var s=a[n];" "==s.charAt(0);)s=s.substring(1);if(0==s.indexOf(t))return s.substring(t.length,s.length)}return""}var k=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(u.a)(this,Object(h.a)(t).call(this))).state={username:"",password:"",canAuthenticate:!1,message:null,save:!1},e.onChangeHandler=e.onChangeHandler.bind(Object(m.a)(e)),e.signInHandler=e.signInHandler.bind(Object(m.a)(e)),e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e,t,a=this;try{e=E("username"),t=E("password")}catch(n){console.log(n)}finally{console.log("COOKIE NOT FOUND")}(e||t)&&(this.setState({username:e,password:t}),fetch(g+"/api/"+this.state.username+"/"+this.state.password+"/authenticate").then(function(e){200===e.status?a.setState({canAuthenticate:!0}):a.setState({username:"",password:""})}))}},{key:"onChangeHandler",value:function(e){var t=e.target,a=t.type,n=t.name,s=t.value,r=t.checked;"checkbox"===a?this.setState(Object(i.a)({},n,r)):this.setState(Object(i.a)({},n,s))}},{key:"signInHandler",value:function(e){var t=this;e.preventDefault(),fetch(g+"/api/"+this.state.username+"/"+this.state.password+"/authenticate").then(function(e){200===e.status?(t.setState(function(e){return{canAuthenticate:!0}}),t.state.save&&(document.cookie="username="+t.state.username+"; expires=Thu, 18 Dec 2040 12:00:00 UTC; path=/",document.cookie="password="+t.state.password+"; expires=Thu, 18 Dec 2040 12:00:00 UTC; path=/")):t.setState({message:"Wrong Username or Password"})})}},{key:"render",value:function(){return s.a.createElement("div",{id:"admin-panel"},this.state.canAuthenticate?s.a.createElement(j,{username:this.state.username,password:this.state.password}):s.a.createElement(p,{username:this.state.username,password:this.state.password,onChangeHandler:this.onChangeHandler,signInHandler:this.signInHandler,message:this.state.message,save:this.state.save}))}}]),t}(s.a.Component);l.a.render(s.a.createElement(k,null),document.getElementById("root"))}],[[10,1,2]]]);
//# sourceMappingURL=main.0ce0126d.chunk.js.map