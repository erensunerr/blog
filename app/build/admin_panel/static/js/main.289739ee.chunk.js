(window.webpackJsonpadmin_panel=window.webpackJsonpadmin_panel||[]).push([[0],{12:function(e,t,n){e.exports=n(21)},17:function(e,t,n){},18:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),r=n(11),l=n.n(r),o=n(8),i=n(2),c=n(3),u=n(5),d=n(4),m=n(1),p=n(6),h=(n(17),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{id:"login"},s.a.createElement("form",null,s.a.createElement("input",{type:"text",id:"username",name:"username",value:this.props.username,onChange:this.props.onChangeHandler,placeholder:"Username"}),s.a.createElement("br",null),s.a.createElement("input",{type:"text",id:"password",name:"password",value:this.props.password,onChange:this.props.onChangeHandler,placeholder:"Password"}),s.a.createElement("br",null),s.a.createElement("button",{onClick:this.props.signInHandler},"Sign In")),this.props.message?s.a.createElement("h3",null,this.props.message):null)}}]),t}(s.a.Component)),g="http://127.0.0.1:5000",b=(n(18),n(7)),v=n.n(b),f=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).state={title:"",elements:[]},e.add_element=e.add_element.bind(Object(m.a)(e)),e.onChangeHandler=e.onChangeHandler.bind(Object(m.a)(e)),e.commitHandler=e.commitHandler.bind(Object(m.a)(e)),e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"add_element",value:function(e){var t=e.target.name;"paragraph"===t?(console.log("ADDING PARAGRAPH"),this.setState(function(e){var t=e.elements;return t.push("DEMO "+t.length),{elements:t}})):"image"===t&&(console.log("ADDING IMAGE"),this.setState(function(e){var t=e.elements;return t.push({src:"",alt:""}),{elements:t}}))}},{key:"onChangeHandler",value:function(e){var t=e.target,n=t.name,a=t.value;console.log(this.state),n.includes("src")||n.includes("alt")?this.setState(function(e){var t=e.elements,s=parseInt(n.replace("alt-","").replace("src-","")),r=t[s];return n.includes("src")?r.src=a:n.includes("alt")&&(r.alt=a),t[s]=r,{elements:t}}):n.includes("paragraph")?this.setState(function(e){var t=e.elements,s=parseInt(n.replace("paragraph-",""));return console.log(t),t[s]=a,{elements:t}}):this.setState(Object(o.a)({},n,a))}},{key:"commitHandler",value:function(e){e.preventDefault(),console.log(this.state.elements);var t=g+"/api/"+this.props.username+"/"+this.props.password+"/add_entry/"+this.state.title;console.log(t),fetch(t,{method:"POST",body:JSON.stringify(this.state.elements),headers:{"Content-Type":"application/json"}}).then(function(e){return console.log(e.status)})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{id:"add-post-form"},s.a.createElement("input",{type:"text",id:"title",key:"title",name:"title",value:this.state.title,onChange:this.onChangeHandler,placeholder:"Title"}),this.state.elements.map(function(t){var n=e.state.elements.indexOf(t);return console.log(t.src),void 0!==t.src|void 0!==t.alt?s.a.createElement("div",{id:"choose-image",key:n},s.a.createElement("form",null,s.a.createElement("input",{type:"text",id:"src",key:"src-"+n,name:"src-"+n,value:e.state.elements[n].src,onChange:e.onChangeHandler,placeholder:"Source"}),s.a.createElement("br",null),s.a.createElement("input",{type:"text",id:"alt",key:"alt-"+n,name:"alt-"+n,value:e.state.elements[n].alt,onChange:e.onChangeHandler,placeholder:"Alternative"}))):s.a.createElement("textarea",{rows:"5",cols:"50",name:"paragraph-"+n,key:"paragraph-"+n,onChange:e.onChangeHandler,value:e.state.elements[n]})}),s.a.createElement("button",{name:"paragraph",onClick:this.add_element},"Add Paragraph"),s.a.createElement("button",{name:"image",onClick:this.add_element},"Add Image"),s.a.createElement("button",{name:"commit",onClick:this.commitHandler},"Commit Changes"))}}]),t}(s.a.Component),C=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).onClickHandler=e.onClickHandler.bind(Object(m.a)(e)),e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"onClickHandler",value:function(e){e.preventDefault(),fetch(g+"/api/"+this.props.username+"/"+this.props.password+"/update_blog")}},{key:"render",value:function(){return s.a.createElement("button",{onClick:this.onClickHandler},"Publish")}}]),t}(s.a.Component),O=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{id:"control-panel"},s.a.createElement(f,{username:this.props.username,password:this.props.password}),s.a.createElement(C,{username:this.props.username,password:this.props.password}))}}]),t}(s.a.Component),j=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).state={username:"",password:"",canAuthenticate:!1,message:null},e.onChangeHandler=e.onChangeHandler.bind(Object(m.a)(e)),e.signInHandler=e.signInHandler.bind(Object(m.a)(e)),e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"onChangeHandler",value:function(e){var t=e.target,n=t.name,a=t.value;console.log(n,a),this.setState(Object(o.a)({},n,a))}},{key:"signInHandler",value:function(e){var t=this;e.preventDefault(),console.log(v()(this.state.username),v()(this.state.password)),fetch(g+"/api/"+v()(this.state.username)+"/"+v()(this.state.password)+"/authenticate").then(function(e){console.log(e),200===e.status?t.setState(function(e){return{canAuthenticate:!0,usernamemd5:v()(e.username),passwordmd5:v()(e.password)}}):t.setState({message:"Wrong Username or Password"})})}},{key:"render",value:function(){return s.a.createElement("div",{id:"admin-panel"},this.state.canAuthenticate?s.a.createElement(O,{username:this.state.usernamemd5,password:this.state.passwordmd5}):s.a.createElement(h,{username:this.state.username,password:this.state.password,onChangeHandler:this.onChangeHandler,signInHandler:this.signInHandler,message:this.state.message}))}}]),t}(s.a.Component);l.a.render(s.a.createElement(j,null),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.289739ee.chunk.js.map