{"version":3,"sources":["LoginDialogue.js","WebAddress.js","AddPostForm.js","CommitButton.js","DeletePostForm.js","SetUserPassForm.js","ChangeEssentialsForm.js","ControlPanel.js","App.js","index.js"],"names":["LoginDialogue","id","type","name","value","this","props","username","onChange","onChangeHandler","placeholder","password","checked","save","onClick","signInHandler","message","React","Component","web_address","AddPostForm","state","title","elements","add_element","bind","commitHandler","e","target","setState","prevState","new_elements","push","length","src","alt","includes","n","parseInt","replace","mod","preventDefault","fetch","then","resp","console","log","titles","alert","url","method","body","JSON","stringify","headers","className","key","map","elem","indexOf","undefined","rows","cols","CommitButton","onClickHandler","ControlPanel","toDelete","delete","json","SetUserPassForm","user","pass","ChangeEssentialsForm","author","getCookie","cname","ca","decodeURIComponent","document","cookie","split","i","c","charAt","substring","App","canAuthenticate","passw","response","status","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.0ce0126d.chunk.js","sourcesContent":["import React from 'react'\r\nimport './LoginDialogue.css'\r\nclass LoginDialogue extends React.Component {\r\n  render(){\r\n  return (\r\n    <div id=\"login\">\r\n      <form>\r\n        <input type=\"text\" id=\"username\" name=\"username\" value={this.props.username} onChange={this.props.onChangeHandler} placeholder=\"Username\"/>\r\n        <br />\r\n        <input type=\"text\" id=\"password\" name=\"password\" value={this.props.password} onChange={this.props.onChangeHandler} placeholder=\"Password\"/>\r\n        <br />\r\n        <label>Save:\r\n        <input type=\"checkbox\" name=\"save\" checked={this.props.save} onChange={this.props.onChangeHandler} />\r\n        </label>\r\n        <br />\r\n        <button onClick={this.props.signInHandler}>Sign In</button>\r\n      </form>\r\n      {this.props.message ? <h3>{this.props.message}</h3> : null}\r\n    </div>\r\n  );\r\n}\r\n}\r\nexport default LoginDialogue\r\n","const web_address = \"http://127.0.0.1:5000\"\r\nexport default web_address\r\n","import React from 'react'\r\nimport web_address from \"./WebAddress\"\r\nimport \"./AddPostForm.css\"\r\nexport default class AddPostForm extends React.Component {\r\n  constructor(){\r\n    super();\r\n    this.state = {\r\n      title: \"\",\r\n      elements: []\r\n    }\r\n    this.add_element = this.add_element.bind(this);\r\n    this.onChangeHandler = this.onChangeHandler.bind(this);\r\n    this.commitHandler = this.commitHandler.bind(this);\r\n  }\r\n\r\n  add_element(e){\r\n    var name = e.target.name;\r\n    if (name === \"paragraph\"){\r\n    this.setState((prevState) =>\r\n    {\r\n      let new_elements = prevState.elements;\r\n      new_elements.push(\"DEMO \" + new_elements.length)\r\n      return {\r\n        elements: new_elements\r\n      }\r\n    })\r\n  }\r\n  else if (name === \"image\"){\r\n    this.setState((prevState) =>\r\n    {\r\n      let new_elements = prevState.elements;\r\n      new_elements.push(\r\n        {src: \"\", alt: \"\"}\r\n      )\r\n      return {\r\n        elements: new_elements\r\n      }\r\n    })\r\n  }\r\n  }\r\n\r\n  onChangeHandler(e){\r\n    var {name, value} = e.target;\r\n    if (name === \"title\"){\r\n      this.setState({\r\n        title: value\r\n      })\r\n    }\r\n    else if(name.includes(\"src\") || name.includes(\"alt\"))\r\n    {\r\n      this.setState((prevState) => {\r\n        let elements  = prevState.elements\r\n        let n = parseInt(name.replace(\"alt-\", \"\").replace(\"src-\", \"\"));\r\n        var mod = elements[n];\r\n        if (name.includes(\"src\")){\r\n          mod.src =  value\r\n        }else if (name.includes(\"alt\")){\r\n          mod.alt =  value\r\n        }\r\n        elements[n] = mod;\r\n        return (\r\n          {\r\n            elements: elements\r\n          }\r\n        );\r\n      });\r\n\r\n    }\r\n    else if (name.includes(\"paragraph\")){\r\n      this.setState((prevState) => {\r\n        let elements = prevState.elements\r\n        let n = parseInt(name.replace(\"paragraph-\", \"\"));\r\n        elements[n] = value;\r\n        return (\r\n          {\r\n            elements: elements\r\n          }\r\n        );\r\n      });\r\n    }\r\n    else {\r\n      this.setState({[name]: value});\r\n    }\r\n\r\n  }\r\n\r\n  commitHandler(e){\r\n    e.preventDefault();\r\n    fetch(web_address + \"/api/get_post_list\")\r\n    .then(\r\n      (resp) =>\r\n        console.log(resp)\r\n    ).then((titles) => {\r\n    if (titles.includes(this.state.title)){\r\n      alert(\"Error, a post called \" + this.state.title + \" already exists.\")\r\n      return 1;\r\n    }\r\n    else {\r\n      let url = web_address + \"/api/\" + this.props.username + \"/\" + this.props.password + \"/add_entry/\" + this.state.title;\r\n      fetch(url, {\r\n      method: 'POST',\r\n      body: JSON.stringify(this.state.elements),\r\n      headers:{\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n    alert(\"Changes have been commited\");\r\n    }\r\n  });\r\n\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <div id=\"add-post-form\" className=\"form\">\r\n      <h2>Add Post</h2>\r\n      <input\r\n        type=\"text\"\r\n        id=\"title\"\r\n        key=\"title\"\r\n        name=\"title\"\r\n        value={this.state.title}\r\n        onChange={this.onChangeHandler}\r\n        placeholder=\"Title\"\r\n      />\r\n      <button name=\"paragraph\" onClick={this.add_element}>Add Paragraph</button>\r\n      <button name=\"image\" onClick={this.add_element}>Add <br />Image</button>\r\n      <button className=\"commit\" name=\"commit\" onClick={this.commitHandler}>Commit Changes</button>\r\n        {this.state.elements.map((elem) => {\r\n          let n = this.state.elements.indexOf(elem)\r\n          console.log(elem.src)\r\n          if (elem.src !== undefined | elem.alt !== undefined){\r\n            return (\r\n                <div id=\"choose-image\" key={\"image-\" + n}>\r\n                  <form>\r\n                    <input\r\n                      type=\"text\"\r\n                      id=\"src\"\r\n                      key={\"src-\" + n}\r\n                      name={\"src-\" + n}\r\n                      value={this.state.elements[n].src}\r\n                      onChange={this.onChangeHandler}\r\n                      placeholder=\"Source\"\r\n                    />\r\n                    <br />\r\n                    <input\r\n                      type=\"text\"\r\n                      id=\"alt\"\r\n                      key={\"alt-\" + n}\r\n                      name={\"alt-\" + n}\r\n                      value={this.state.elements[n].alt}\r\n                      onChange={this.onChangeHandler}\r\n                      placeholder=\"Alternative\"\r\n                    />\r\n                  </form>\r\n                  <br />\r\n                </div>\r\n            )\r\n          }\r\n          else{\r\n          return (\r\n            <div id=\"paragraph\" key={\"paragraph-\" + n}>\r\n            <textarea\r\n              rows=\"5\"\r\n              cols=\"50\"\r\n              name={\"paragraph-\" + n}\r\n              onChange={this.onChangeHandler}\r\n              value={this.state.elements[n]}\r\n            /><br /></div>);\r\n        }\r\n        }\r\n      )\r\n        }\r\n\r\n\r\n      </div>\r\n  );\r\n}\r\n}\r\n","import React from 'react'\r\nimport web_address from \"./WebAddress\"\r\nexport default class CommitButton extends React.Component {\r\n  constructor(){\r\n    super();\r\n    this.onClickHandler = this.onClickHandler.bind(this)\r\n\r\n  }\r\n\r\n  onClickHandler(e){\r\n    e.preventDefault();\r\n    fetch(web_address + \"/api/\" + this.props.username + \"/\" + this.props.password + \"/update_blog\");\r\n    alert(\"Changes have been published.\")\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <button className=\"commit\" onClick={this.onClickHandler}>Publish</button>\r\n    );\r\n  }\r\n\r\n}\r\n","import React from 'react'\r\nimport web_address from './WebAddress'\r\nexport default class ControlPanel extends React.Component {\r\n  constructor(){\r\n    super();\r\n    this.state = {\r\n      titles:[],\r\n      toDelete: \"\"\r\n    }\r\n    this.onChangeHandler = this.onChangeHandler.bind(this);\r\n    this.delete = this.delete.bind(this);\r\n  }\r\n  componentDidMount(){\r\n    fetch(web_address + \"/api/get_post_list\")\r\n    .then((resp) => resp.json())\r\n    .then((resp) => {\r\n      console.log(resp);\r\n      this.setState({\r\n        titles: resp\r\n      })\r\n    })\r\n  }\r\n  onChangeHandler(e){\r\n    let {name, value} = e.target;\r\n    this.setState({\r\n        [name] : value\r\n    });\r\n  }\r\n  delete(e){\r\n    fetch(web_address + \"/api/\" + this.props.username + \"/\" + this.props.password + \"/del_post/\" + this.state.toDelete)\r\n    .then((resp) => console.log(resp))\r\n    alert(this.state.toDelete + \" has been deleted.\")\r\n  }\r\n  render(){\r\n    return (\r\n      <div id=\"delete-post-form\" className=\"form\">\r\n      <h2>Delete Post</h2>\r\n      <select name=\"toDelete\" onChange={this.onChangeHandler} >\r\n        <option value=\"\"></option>\r\n        {this.state.titles ? this.state.titles.map((title) => {\r\n          return (\r\n            <option value={title} key={title + this.state.titles.indexOf(title)}>{title}</option>\r\n          );\r\n        }): null\r\n        }\r\n      </select>\r\n      <button className=\"commit\" onClick={this.delete}>Delete</button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n}\r\n","import React from 'react'\r\nimport web_address from './WebAddress'\r\nexport default class SetUserPassForm extends React.Component {\r\n  constructor(){\r\n    super();\r\n    this.state = {\r\n      user: \"\",\r\n      pass: \"\"\r\n    }\r\n    this.onChangeHandler = this.onChangeHandler.bind(this)\r\n    this.onClickHandler = this.onClickHandler.bind(this)\r\n  }\r\n\r\n  onChangeHandler(e){\r\n    let {value, name} = e.target;\r\n    this.setState({\r\n      [name]: value\r\n    })\r\n  }\r\n  onClickHandler(e){\r\n    fetch(web_address + \"/api/\" + this.props.username + \"/\" + this.props.password + \"/set_user_pass/\" +\r\n          this.state.user + \"/\" + this.state.pass)\r\n    alert(\"Admin username and password have been changed.\")\r\n  }\r\n  render(){\r\n    return (\r\n      <div id=\"change-user-pass-form\" className=\"form\">\r\n        <h2>Change Admin Username & Password</h2>\r\n        <input onChange={this.onChangeHandler} name=\"user\" placeholder=\"New Username\" value={this.state.user} />\r\n        <input onChange={this.onChangeHandler} name=\"pass\" placeholder=\"New Password\" value={this.state.pass} />\r\n        <button onClick={this.onClickHandler} className=\"commit\">Change</button>\r\n      </div>\r\n  )\r\n}\r\n}\r\n","import React from 'react'\r\nimport web_address from './WebAddress'\r\nexport default class ChangeEssentialsForm extends React.Component {\r\n  constructor(){\r\n    super();\r\n    this.state = {\r\n      title: \"\",\r\n      author: \"\"\r\n    }\r\n    this.onChangeHandler = this.onChangeHandler.bind(this)\r\n    this.onClickHandler = this.onClickHandler.bind(this)\r\n  }\r\n\r\n  onChangeHandler(e){\r\n    let {value, name} = e.target;\r\n    this.setState({\r\n      [name]: value\r\n    })\r\n  }\r\n  onClickHandler(e){\r\n    fetch(web_address + \"/api/\" + this.props.username + \"/\" + this.props.password + \"/set_essentials/\" +\r\n          this.state.title + \"/\" + this.state.author)\r\n    alert(\"Title and author have been changed.\")\r\n  }\r\n  render(){\r\n    return (\r\n      <div id=\"change-essentials-form\" className=\"form\">\r\n        <h2>Change Title & Author</h2>\r\n        <input onChange={this.onChangeHandler} name=\"title\" placeholder=\"Title\" value={this.state.title} />\r\n        <input onChange={this.onChangeHandler} name=\"author\" placeholder=\"Author\" value={this.state.author}/>\r\n        <button onClick={this.onClickHandler} className=\"commit\">Change</button>\r\n      </div>\r\n  )\r\n}\r\n}\r\n","import React from 'react'\r\nimport AddPostForm from './AddPostForm'\r\nimport CommitButton from './CommitButton'\r\nimport DeletePostForm from './DeletePostForm'\r\nimport SetUserPassForm from './SetUserPassForm'\r\nimport ChangeEssentialsForm from './ChangeEssentialsForm'\r\nimport './ControlPanel.css'\r\nexport default class ControlPanel extends React.Component {\r\n  render(){\r\n    return (\r\n      <div id=\"control-panel\">\r\n      <h1>Admin Control Panel</h1>\r\n      <ChangeEssentialsForm username={this.props.username} password={this.props.password}/>\r\n      <SetUserPassForm username={this.props.username} password={this.props.password}/>\r\n      <AddPostForm username={this.props.username} password={this.props.password}/>\r\n      <DeletePostForm username={this.props.username} password={this.props.password}/>\r\n      <CommitButton username={this.props.username} password={this.props.password}/>\r\n      </div>\r\n    );\r\n  }\r\n\r\n}\r\n","import React from 'react'\r\nimport LoginDialogue from \"./LoginDialogue\"\r\nimport web_address from \"./WebAddress\"\r\nimport \"./App.css\"\r\nimport ControlPanel from './ControlPanel'\r\n\r\nfunction getCookie(cname) {\r\n  var name = cname + \"=\";\r\n  var decodedCookie = decodeURIComponent(document.cookie);\r\n  var ca = decodedCookie.split(';');\r\n  for(var i = 0; i <ca.length; i++) {\r\n    var c = ca[i];\r\n    while (c.charAt(0) == ' ') {\r\n      c = c.substring(1);\r\n    }\r\n    if (c.indexOf(name) == 0) {\r\n      return c.substring(name.length, c.length);\r\n    }\r\n  }\r\n  return \"\";\r\n}\r\n\r\nclass App extends React.Component {\r\n  constructor(){\r\n    super();\r\n    this.state = {\r\n      username: \"\",\r\n      password: \"\",\r\n      canAuthenticate: false,\r\n      message: null,\r\n      save: false\r\n    }\r\n    this.onChangeHandler = this.onChangeHandler.bind(this);\r\n    this.signInHandler = this.signInHandler.bind(this);\r\n  }\r\n\r\n  componentDidMount(){\r\n    var user, passw;\r\n    try {\r\n      user = getCookie(\"username\");\r\n      passw = getCookie(\"password\");\r\n    } catch (e){\r\n      console.log(e);\r\n    } finally {\r\n      console.log(\"COOKIE NOT FOUND\");\r\n    }\r\n    if (user || passw){\r\n      this.setState({\r\n        username: user,\r\n        password: passw\r\n      });\r\n      fetch(web_address + \"/api/\" + this.state.username + \"/\" + this.state.password + \"/authenticate\")\r\n      .then((response) => {\r\n      if(response.status === 200){\r\n        this.setState({\r\n          canAuthenticate: true\r\n        });\r\n      } else {\r\n        this.setState({\r\n          username: \"\",\r\n          password: \"\"\r\n        });\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\n  onChangeHandler(e){\r\n    let {type, name, value, checked} = e.target;\r\n    if (type === \"checkbox\"){\r\n      this.setState({\r\n        [name]: checked\r\n      })\r\n    } else {\r\n    this.setState({\r\n      [name]: value\r\n    })\r\n  }\r\n}\r\n\r\n  signInHandler(e){\r\n    e.preventDefault()\r\n    fetch(web_address + \"/api/\" + this.state.username + \"/\" + this.state.password + \"/authenticate\")\r\n    .then((response) => {\r\n      if(response.status === 200){\r\n        this.setState((prevState) => {\r\n          return ({\r\n          canAuthenticate: true\r\n        });\r\n        })\r\n        if(this.state.save) {\r\n          document.cookie = \"username=\" + this.state.username + \"; expires=Thu, 18 Dec 2040 12:00:00 UTC; path=/\";\r\n          document.cookie = \"password=\" + this.state.password + \"; expires=Thu, 18 Dec 2040 12:00:00 UTC; path=/\";\r\n        }\r\n      }\r\n      else {\r\n        this.setState({\r\n          message: \"Wrong Username or Password\"\r\n        })\r\n      }\r\n      }\r\n    )\r\n  }\r\n\r\n\r\n\r\n  render(){\r\n  return (\r\n    <div id=\"admin-panel\">\r\n\r\n    {this.state.canAuthenticate ?\r\n      <ControlPanel username={this.state.username} password={this.state.password}/>\r\n      :\r\n    <LoginDialogue\r\n    username={this.state.username}\r\n    password={this.state.password}\r\n    onChangeHandler={this.onChangeHandler}\r\n    signInHandler={this.signInHandler}\r\n    message={this.state.message}\r\n    save={this.state.save}/>\r\n    }\r\n    </div>\r\n  );\r\n}\r\n}\r\nexport default App;\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\nReactDOM.render(<App />,\r\ndocument.getElementById(\"root\"))\r\n"],"sourceRoot":""}